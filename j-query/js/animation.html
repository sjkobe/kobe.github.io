<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    
    <title>Document</title>
</head>
<body>
        <div class="stage"></div>
    <style>
        body {
				margin: 0;
				background: lightgreen;
				height: 500px;
			}
       .stage {
				width: 400px;
				height: 400px;
				border: 10px solid black;
				position: relative;
			}
            div{
                position: absolute;
            }
    </style>
    <script>
        var ball=function(x,y,speed){
            this.x=x;
            this.y=y;
            this.speed=speed;
            this.draw = function () {
					this.ball = document.createElement('div')
					this.ball.style.top = this.y + 'px';
					this.ball.style.left = this.x + 'px';
                    this.ball.style.width='20px'
                    this.ball.style.height='20px'
                    this.ball.style.background='yellow';
                    this.ball.style.borderRadius='50%'
					document.body.appendChild(this.ball);
				}
			}
            var ball1= new ball(200,200,10)
            ball1.draw();
           
            var ball2= new ball(100,100,10)
            ball2.draw();
           
			
			var direction = 'right';

			var moveRight = function() {
                this.ball.style.left = parseInt(this.ball.style.left) + this.speed + 'px';
				

			}

			var moveLeft = function() {
                this.ball.style.left = parseInt(this.ball.style.left) - this.speed + 'px';
				

			}

			var moveUp = function() {
                this.ball.style.top = parseInt(this.ball.style.top) + this.speed + 'px';
               
			}
			var moveDown = function() {
                this.ball.style.top = parseInt(this.ball.style.top) - this.speed + 'px';
				

			}
            var checkCollision = function() {
				if( this.x > 400 - 20) {
					console.log('zhuangle')
					
					// moveLeft();
					 direction ='left';	
					
				}
				if( this.x < 0) {
					direction ='right';	
				}
				if( this.y > 400 - 20) {
					direction ='up';	
				}
				if( this.y < 0) {
					direction ='down';
				}
			}

            var id=setInterval(function() {
				checkCollision();

				if(direction === 'right') {	
				    moveRight();				
				} else if(direction === 'left') {
					moveLeft();
					
				} else if(direction === 'up') {
					moveUp();
				} else if(direction === 'down') {
					moveDown();
				}
				
			}, 30)
            
            
            
			document.body.onkeydown = function(ev) {
				console.log(ev.keyCode);
				switch(ev.keyCode) {
					case 37:
						direction = 'left'
					
						break;
					case 38:
						direction = 'up'
						break;
					case 39:
						direction = 'right'
						break;
					case 40:
						direction = 'down'
						break;

				}
			}
    </script>
</body>
</html>